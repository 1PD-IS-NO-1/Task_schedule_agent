<!DOCTYPE html>
<html>

<head>
    <title>Task Table</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body>
    <div class="container">
        <!-- Left sidebar -->
        <div class="sidebar">
            <div class="view-list">
                <div class="view-item"><input type="checkbox"> Board</div>
                <div class="view-item"><input type="checkbox"> Calendar</div>
                <div class="view-item"><input type="checkbox"> Gantt</div>
                <div class="view-item active"><input type="checkbox" checked> Table</div>
                <div class="view-item"><button class="add-view">+ View</button></div>
            </div>
        </div>

        <!-- Main content -->
        <div class="main-content">
            <div class="header">
                <h2>Group: None</h2>
                <button onclick="addNewTask()" class="add-task-btn">
                    + Add Task
                </button>
            </div>

            <table class="task-table">
                <thead>
                    <tr>
                        <th><Nav>NAME</Nav></th>
                        <th>ASSIGNEE</th>
                        <th>STATUS</th>
                        <th>DUE DATE</th>
                        <th>PRIORITY</th>
                        <th>ACTIONS</th>
                    </tr>
                </thead>
                <tbody id="taskBody">
                    <!-- Tasks will be loaded here -->
                </tbody>
            </table>

            <div class="footer-note">
                <span>ctrl+enter to open</span>
                <button class="save-btn" onclick="saveAllChanges()">SAVE</button>
            </div>
        </div>
    </div>

    <!-- Add this in the main-content div -->
    <div class="column-controls">
        <button onclick="showColumnModal()" class="add-column-btn">
            + Add Column
        </button>
    </div>

    <!-- Add modal at the end of body -->
    <div id="columnModal" class="modal">
        <div class="modal-content">
            <h3>Create New Column</h3>
            <div class="form-group">
                <label>Column Name:</label>
                <input type="text" id="columnName" required>
            </div>
            <div class="form-group">
                <label>Column Type:</label>
                <select id="columnType" onchange="toggleOptions()">
                    <option value="text">Text</option>
                    <option value="number">Number</option>
                    <option value="date">Date</option>
                    <option value="select">Dropdown</option>
                </select>
            </div>
            <div id="optionsSection" class="form-group" style="display: none;">
                <label>Options (comma separated):</label>
                <input type="text" id="columnOptions">
            </div>
            <button onclick="createColumn()">Create</button>
            <button onclick="closeColumnModal()">Cancel</button>
        </div>
    </div>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>

</html>